#include <iostream>
#include <cmath> // Для математичних функцій

using namespace std;

// Визначення M_PI, якщо він не визначений
#ifndef M_PI
#define M_PI 3.14159265358979323846
#endif

int main() {
    float a = 5.0f; // Значення a
    float b = 3.0f; // Значення b
    float Y; // Результат

    __asm {
        finit; Очищення регістрів співпроцесора

        ; Обчислення 5a + b ^ 2
        fld a; Завантажити a
        fmul 5.0f; Помножити на 5
        fld b; Завантажити b
        fmul ST(0), ST(0); Звести b у квадрат
        fadd; Додати 5a + b ^ 2

        ; Поділ на 2
        fld1; Завантажити 1 на вершину стека
        fdiv ST(0), ST(1); (5a + b ^ 2) / 2

        ; Обчислення арккосеканса через арксинус
        fld1; Завантажити 1 на вершину стека
        fdiv ST(0), ST(1); 1 / ((5a + b ^ 2) / 2)
        fsin; Обчислення арксинуса

        ; Множимо на 3
        fmul 3.0f; 3 * арксинус

        ; Переведення результату в градуси
        fld ST(0); Завантажити результат у стек
        fldpi; Завантажити π
        fmul; Помножити на π
        fdiv 180.0f; Поділити на 180

        fstp Y; Зберегти результат у пам'яті
    }

    // Виводимо результат
    cout << "Результат: " << Y << " градусів" << endl;

    return 0;
}
